<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impostor Qu铆mico</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a3e);
            color: #e0e0ff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        .container {
            width: 100%;
            max-width: 420px;
            background: rgba(20, 25, 50, 0.95);
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            padding: 30px 20px;
            text-align: center;
        }
        h1 {
            font-size: 2.8rem;
            margin-bottom: 8px;
            background: linear-gradient(90deg, #00d4ff, #6a4fff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }
        .subtitle { font-size: 1.1rem; margin-bottom: 30px; opacity: 0.9; }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.6s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .level-btns { display: flex; gap: 12px; justify-content: center; margin: 25px 0; flex-wrap: wrap; }
        .level-btn {
            padding: 14px 24px; font-size: 1.1rem; border: none; border-radius: 16px;
            background: #262640; color: #ccc; cursor: pointer; transition: all 0.3s; min-width: 100px;
        }
        .level-btn.active {
            background: linear-gradient(135deg, #00d4ff, #6a4fff); color: white;
            box-shadow: 0 8px 20px rgba(0, 212, 255, 0.4);
        }

        .players-control { display: flex; align-items: center; justify-content: center; gap: 25px; margin: 30px 0; font-size: 2.2rem; }
        .players-btn { width: 60px; height: 60px; border-radius: 50%; background: #33335c; color: white; border: none; font-size: 2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        .btn-large {
            background: linear-gradient(135deg, #00ff88, #00cc66); color: #000; font-size: 1.4rem;
            font-weight: bold; padding: 18px 40px; border: none; border-radius: 20px; cursor: pointer;
            width: 90%; max-width: 320px; margin: 30px auto; box-shadow: 0 10px 25px rgba(0, 255, 136, 0.3);
            transition: all 0.3s;
        }
        .btn-large.red { background: linear-gradient(135deg, #ff4757, #ff3838); color: white; }
        .btn-large:active { transform: scale(0.96); }

        input[type="text"] { width: 90%; padding: 14px; margin: 10px auto; border-radius: 12px; border: none; background: #262640; color: white; font-size: 1.1rem; text-align: center; }

        .player-item { background: #262640; padding: 14px; margin: 8px; border-radius: 12px; font-size: 1.2rem; }

        .timer { font-size: 3.5rem; font-weight: bold; color: #ff6b6b; margin: 20px 0; }
        .vote-btn { background: #33335c; color: white; padding: 18px; margin: 10px; border-radius: 16px; font-size: 1.4rem; border: none; width: 90%; cursor: pointer; transition: all 0.3s; }
        .vote-btn.selected { background: #ff4757; transform: scale(1.05); box-shadow: 0 0 20px rgba(255,71,87,0.6); }

        .result { font-size: 1.9rem; padding: 30px; border-radius: 20px; margin: 20px 0; background: rgba(255, 71, 87, 0.2); border: 2px solid #ff4757; }
        .success { background: rgba(0, 255, 136, 0.2); border: 2px solid #00ff88; color: #00ff88; }

        .card-area { margin: 50px auto; padding: 40px 20px; background: rgba(30, 35, 70, 0.7); border-radius: 20px; min-height: 300px; }
        .normal-card { background: linear-gradient(135deg, #1e90ff, #4169e1); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(30, 144, 255, 0.4); }
        .impostor-card { background: linear-gradient(135deg, #ff4757, #ff3838); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(255, 71, 87, 0.5); }
        .word { font-size: 3rem; font-weight: bold; margin: 20px 0; }
        .explanation { font-size: 0.95rem; line-height: 1.6; opacity: 0.8; margin: 25px 0; padding: 0 10px; }
    </style>
</head>
<body>
    <div class="container">

        <!-- 1. Configuraci贸n -->
        <div id="config" class="section active">
            <h1>Impostor Qu铆mico</h1>
            <p class="subtitle">隆Qu铆mica cotidiana + debate + risas!</p>

            <div class="level-btns">
                <button class="level-btn active" data-level="basico">B谩sico</button>
                <button class="level-btn" data-level="medio">Medio</button>
                <button class="level-btn" data-level="avanzado">Avanzado</button>
            </div>

            <p style="margin:20px 0 10px; font-size:1.1rem;">N煤mero de jugadores</p>
            <div class="players-control">
                <button id="minus" class="players-btn">-</button>
                <span id="num-players">5</span>
                <button id="plus" class="players-btn">+</button>
            </div>

            <button id="go-names" class="btn-large">Siguiente: Ingresar nombres</button>

            <p class="explanation">
                Todos ven una palabra de qu铆mica cotidiana, excepto el impostor que ve una diferente.<br>
                Den pistas reales y voten juntos al final.
            </p>
        </div>

        <!-- 2. Nombres -->
        <div id="names" class="section">
            <h2>Ingresen sus nombres</h2>
            <div id="names-list"></div>
            <button id="start-game" class="btn-large">隆Empezar partida!</button>
        </div>

        <!-- 3. Tarjetas -->
        <div id="cards" class="section">
            <h2><span id="current-name">Jugador 1</span>, solo t煤 mira</h2>
            <div id="before-reveal" class="card-area">
                <p style="font-size:1.3rem; margin:40px 0;">Cuando est茅s listo...</p>
                <button id="reveal" class="btn-large red">Ver mi tarjeta</button>
            </div>
            <div id="after-reveal" class="card-area" style="display:none;">
                <div id="card-content"></div>
                <button id="next-player" class="btn-large" style="margin-top:40px;">Listo, pasar al siguiente</button>
            </div>
        </div>

        <!-- 4. Votaci贸n -->
        <div id="voting" class="section">
            <h2>隆Hora de votar!</h2>
            <p style="margin:20px 0; font-size:1.3rem;">Discutan y elijan juntos</p>
            <div class="timer" id="timer">05:00</div>
            <p>驴Qui茅n creen que es el impostor?</p>
            <div id="vote-options"></div>
            <button id="confirm-vote" class="btn-large red" style="display:none; margin-top:20px;">
                隆VOTAR AHORA!
            </button>
        </div>

        <!-- 5. Resultado -->
        <div id="result" class="section">
            <h2>隆Resultado!</h2>
            <div id="result-message" class="result"></div>
            <div style="margin:30px 0; font-size:1.8rem;">
                El impostor era:<br>
                <strong id="impostor-name" style="color:#ff4757; font-size:2.2rem;"></strong>
            </div>
            <button id="new-round" class="btn-large">Nueva ronda</button>
            <button id="back-menu" class="btn-large" style="background:#33335c; margin-top:15px;">Volver al men煤</button>
        </div>
    </div>

    <script>
        // M谩s de 25 palabras por nivel
        const palabras = {
            basico: [
                {real:"Agua",decoy:"Aceite"},{real:"Sal",decoy:"Az煤car"},{real:"Hielo",decoy:"Vapor"},{real:"Aire",decoy:"Humo"},
                {real:"Jugo de lim贸n",decoy:"Vinagre"},{real:"Bicarbonato",decoy:"Levadura"},{real:"Leche",decoy:"Yogur"},
                {real:"xido",decoy:"Pintura"},{real:"Jab贸n",decoy:"Detergente"},{real:"Gasolina",decoy:"Alcohol"},
                {real:"Caf茅",decoy:"T茅"},{real:"Harina",decoy:"Almid贸n"},{real:"Vinagre",decoy:"Alcohol"},{real:"Huevo",decoy:"Clara"},
                {real:"Pan",decoy:"Galleta"},{real:"Luz solar",decoy:"Luz de bombilla"},{real:"Cloro",decoy:"Fl煤or"},{real:"Alcohol en gel",decoy:"Perfume"},
                {real:"Cemento",decoy:"Yeso"},{real:"Carb贸n",decoy:"Grafito"},{real:"L谩piz",decoy:"Pluma"},{real:"Bater铆a",decoy:"Pila"},
                {real:"Diente",decoy:"Hueso"},{real:"Piel",decoy:"Cuero"},{real:"Vaso de vidrio",decoy:"Ventana"}
            ],
            medio: [
                {real:"cido",decoy:"Base"},{real:"Fermentaci贸n",decoy:"Descomposici贸n"},{real:"Disoluci贸n",decoy:"Mezcla"},
                {real:"Oxidaci贸n",decoy:"Combusti贸n"},{real:"Di贸xido de carbono",decoy:"Ox铆geno"},{real:"Catalizador",decoy:"Inhibidor"},
                {real:"Soluto",decoy:"Solvente"},{real:"Reacci贸n endot茅rmica",decoy:"Reacci贸n exot茅rmica"},{real:"Evaporaci贸n",decoy:"Condensaci贸n"},
                {real:"Combustible",decoy:"Oxidante"},{real:"Enzima",decoy:"Hormona"},{real:"Electrolito",decoy:"Aislante"},
                {real:"Neutralizaci贸n",decoy:"Precipitaci贸n"},{real:"Destilaci贸n",decoy:"Filtraci贸n"},{real:"Gas noble",decoy:"Gas reactivo"},
                {real:"Metal",decoy:"No metal"},{real:"Pol铆mero",decoy:"Monomero"},{real:"Calor latente",decoy:"Calor sensible"},
                {real:"Sublimaci贸n",decoy:"Deposici贸n"},{real:"Ion",decoy:"tomo"},{real:"Covalente",decoy:"I贸nico"},
                {real:"Combusti贸n completa",decoy:"Combusti贸n incompleta"},{real:"Reducci贸n",decoy:"Oxidaci贸n"},{real:"Cat谩lisis",decoy:"Inhibici贸n"},
                {real:"Osmosis",decoy:"Difusi贸n"}
            ],
            avanzado: [
                {real:"Prote铆na",decoy:"Carbohidrato"},{real:"Antioxidante",decoy:"Conservante"},{real:"Pol铆mero",decoy:"Mon贸mero"},
                {real:"Grasa saturada",decoy:"Grasa insaturada"},{real:"Enzima",decoy:"Coenzima"},{real:"Calor铆a",decoy:"Joule"},
                {real:"Aditivo alimentario",decoy:"Nutriente"},{real:"Biodegradable",decoy:"No biodegradable"},{real:"Is贸topo",decoy:"I贸n"},
                {real:"Electrolito fuerte",decoy:"Electrolito d茅bil"},{real:"Reacci贸n reversible",decoy:"Reacci贸n irreversible"},
                {real:"Equilibrio qu铆mico",decoy:"Reacci贸n completa"},{real:"cido conjugado",decoy:"Base conjugada"},
                {real:"Constante de equilibrio",decoy:"Velocidad de reacci贸n"},{real:"Entalp铆a",decoy:"Entrop铆a"},
                {real:"Cat谩lisis homog茅nea",decoy:"Cat谩lisis heterog茅nea"},{real:"N煤mero de oxidaci贸n",decoy:"Carga formal"},
                {real:"Hibridaci贸n sp3",decoy:"Hibridaci贸n sp2"},{real:"Resonancia",decoy:"Tautomer铆a"},
                {real:"Efecto invernadero",decoy:"Lluvia 谩cida"},{real:"Fotoqu铆mica",decoy:"Termoqu铆mica"},
                {real:"Estequiometr铆a",decoy:"C谩lculo de rendimiento"},{real:"Titulaci贸n",decoy:"Diluci贸n"},{real:"Coloide",decoy:"Suspensi贸n"},
                {real:"Quelato",decoy:"Complejo"}
            ]
        };

        let nivel = "basico";
        let numJugadores = 5;
        let nombres = [];
        let palabraReal = "", palabraDecoy = "";
        let impostorIndex = 0;
        let jugadorActual = 0;
        let votoGrupo = null;
        let timerInterval;

        // Configuraci贸n
        document.querySelectorAll('.level-btn').forEach(b=>b.addEventListener('click',()=> {
            document.querySelector('.level-btn.active').classList.remove('active');
            b.classList.add('active');
            nivel = b.dataset.level;
        }));

        document.getElementById('minus').onclick = () => { if(numJugadores>3){numJugadores--; document.getElementById('num-players').textContent=numJugadores;}}
        document.getElementById('plus').onclick = () => { if(numJugadores<10){numJugadores++; document.getElementById('num-players').textContent=numJugadores;}}

        document.getElementById('go-names').onclick = () => {
            nombres = Array.from({length: numJugadores}, (_,i) => `Jugador ${i+1}`);
            showNames();
            showSection('names');
        };

        function showNames() {
            const list = document.getElementById('names-list');
            list.innerHTML = "";
            nombres.forEach((n,i) => {
                list.innerHTML += `<div class="player-item">Jugador ${i+1}<input type="text" value="${n}" data-i="${i}"></div>`;
            });
            list.querySelectorAll('input').forEach(inp => {
                inp.addEventListener('change', e => {
                    const i = e.target.dataset.i;
                    nombres[i] = e.target.value.trim() || `Jugador ${+i+1}`;
                });
            });
        }

        document.getElementById('start-game').onclick = iniciarRonda;

        function iniciarRonda() {
            const par = palabras[nivel][Math.floor(Math.random()*palabras[nivel].length)];
            palabraReal = par.real; palabraDecoy = par.decoy;
            impostorIndex = Math.floor(Math.random()*numJugadores);
            jugadorActual = 0;
            votoGrupo = null;
            showSection('cards');
            nextPlayer();
        }

        function nextPlayer() {
            if (jugadorActual >= numJugadores) { startVoting(); return; }
            document.getElementById('current-name').textContent = nombres[jugadorActual];
            document.getElementById('before-reveal').style.display = 'block';
            document.getElementById('after-reveal').style.display = 'none';
        }

        document.getElementById('reveal').onclick = () => {
            const content = document.getElementById('card-content');
            if (jugadorActual === impostorIndex) {
                content.innerHTML = `<div class="impostor-card"><div class="word">隆IMPOSTOR!</div><p>Tu palabra falsa:</p><div class="word">${palabraDecoy}</div><p class="hint">隆Finge muy bien!</p></div>`;
            } else {
                content.innerHTML = `<div class="normal-card"><p>Tu palabra clave:</p><div class="word">${palabraReal}</div><p class="hint">Da pistas con ejemplos cotidianos</p></div>`;
            }
            document.getElementById('before-reveal').style.display = 'none';
            document.getElementById('after-reveal').style.display = 'block';
        };

        document.getElementById('next-player').onclick = () => { jugadorActual++; nextPlayer(); };

        function startVoting() {
            showSection('voting');
            votoGrupo = null;
            document.getElementById('confirm-vote').style.display = 'none';
            document.querySelectorAll('.vote-btn').forEach(b=>b.classList.remove('selected'));

            const opts = document.getElementById('vote-options');
            opts.innerHTML = "";
            nombres.forEach((nombre, i) => {
                const btn = document.createElement('button');
                btn.className = "vote-btn";
                btn.textContent = nombre;
                btn.onclick = () => {
                    votoGrupo = i;
                    document.querySelectorAll('.vote-btn').forEach(b=>b.classList.remove('selected'));
                    btn.classList.add('selected');
                    document.getElementById('confirm-vote').style.display = 'block';
                };
                opts.appendChild(btn);
            });

            startTimer(300); // 5 minutos
        }

        function startTimer(seg) {
            let tiempo = seg;
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                tiempo--;
                const m = String(Math.floor(tiempo/60)).padStart(2,'0');
                const s = String(tiempo%60).padStart(2,'0');
                document.getElementById('timer').textContent = `${m}:${s}`;
                if (tiempo <= 0) { clearInterval(timerInterval); mostrarResultado(); }
            }, 1000);
        }

        document.getElementById('confirm-vote').onclick = mostrarResultado;

        function mostrarResultado() {
            clearInterval(timerInterval);
            showSection('result');
            const acierto = (votoGrupo === impostorIndex);
            document.getElementById('impostor-name').textContent = nombres[impostorIndex];

            const msg = document.getElementById('result-message');
            if (acierto) {
                msg.textContent = "隆LO ATRAPARON! ";
                msg.classList.add('success');
            } else {
                msg.textContent = votoGrupo === null ? "隆SE ACAB EL TIEMPO!\nEl impostor gan贸 " : "隆EL IMPOSTOR GAN! ";
            }
        }

        document.getElementById('new-round').onclick = iniciarRonda;
        document.getElementById('back-menu').onclick = () => showSection('config');

        function showSection(id) {
            document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }
    </script>
</body>
</html>
